<script src="tinytest.js"></script>
<script src="myToFixed.js"></script>
<script>

/*!
 * "The Beasts of Watch And Code"
 * A twist on accounting.myToFixed v0.1.0
 * Copyright 2017 whitefire0 / Rick Hallett
 *
 * Freely distributable under the creative commons license.
 *
 * Full details and documentation:
 * http://github.com/gordonmzhu/beasts/issues/3
 */
//===============================================================================================================
	/* --- Project Specification --- */
//===============================================================================================================

/*Challenge: rewrite accounting.myToFixed so that it does NOT use multiplication or exponential notation. Instead, you will actually move the decimal point using string manipulation.

In AccountingJS 13, we looked at accounting.myToFixed method. We found that we could improve the function by simulating calculations like 1.005 * 100 with 1.005e2 (using exponential notation).

Your job is to rewrite accounting.myToFixed so that it does NOT use multiplication or exponential notation. Instead, you will actually move the decimal point using string manipulation.

So in the example above, instead of using 1.005e2, you'll need to figure out a way to work with the string "1.005" and then create a new string with the decimal point moved over two places to the right. In other words, you need to turn "1.005" into "100.5" using string manipulation.

Include tests that cover the weird cases we saw in the video like 0.615, 10.235, and 1.005.

This is more of a fun exercise than a practical solution since exponential notation works fine, but it's a great way to force you to learn about string manipulation. It also helps to reinforce what you've learned, so I'll take it :)

Also if you didn't know about exponential notation, this would be a great approach. So this is a good way to see how to a problem from a different angle.*/

    
tests({
  'it should round 1.005 correctly to 1.01:                         ': function() {
    eq(myToFixed(1.005, 2), '1.01');
  },

  'it should pad 1.5 correctly to 1.5000:                           ': function() {
    eq(myToFixed(1.5, 4), '1.5000');
  },

  'should return 0.62:                                              ': function() {
    eq(myToFixed(.615, 2), '0.62');
  },
  
  'should return 1.01:                                              ': function() {
    eq(myToFixed(1.005, 2), '1.01');
  },

  'should return 11:                                                ': function() {
      eq(myToFixed(10.635, 0), '11');
  },

  'should return 1.00201:                                           ': function() {
    eq(myToFixed(1.002005, 5), '1.00201');
  },
  
  'it should round 0.615 correctly to 0.62:                         ': function() {
    eq(myToFixed(0.615, 2), '0.62');
  },

  'it should round 10.235 correctly to 10.24:                       ': function() {
    eq(myToFixed(10.235, 2), '10.24');
  },

  'should return 10.7:                                              ': function() {
    eq(myToFixed(10.678, 1), '10.7');
  },

  'should return 10:                                                ': function() {
    eq(myToFixed(10.235, 0), '10');
  },

  '"12314.12342145" with 7 precision return "12314.1234215":        ': function() {
    eq(myToFixed(12314.12342145, 7), '12314.1234215');
  },

  'Precision greater than number of decimals:                       ': function() {
    eq(myToFixed(12314.12342145, 15), '12314.123421450000000');
  },
  
  '"100" with 5 precision should return "100.00000":                ': function() {
    eq(myToFixed(100, 5), '100.00000');
  },

  '".005" with 2 precision should return "0.01":                    ': function() {
    eq(myToFixed(.005, 2), '0.01');
  },

  '"1.005" with 2 precision return "1.01":                          ': function() {
    eq(myToFixed(1.005, 2), '1.01');
  },
  
  'should return 10.24:                                             ': function() {
    eq(myToFixed(10.235, 2), '10.24');
  },
  
  'should return 0.236:                                             ': function() {
    eq(myToFixed(.2356, 3), '0.236');
  }
  
});

</script>
